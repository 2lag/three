<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="utf-8">
    <title>MapJS</title>
    <link rel="stylesheet" href="style.css">
    <script type="importmap">
      {
        "imports": {
          "three": "https://unpkg.com/three@0.171.0/build/three.module.js",
          "three/addons/": "https://unpkg.com/three@0.171.0/examples/jsm/"
        }
      }
    </script>
  </head>
  <body>
    <div id="settings">
      <select id="type">
        <option value="Valve.MAP">Valve .MAP</option>
        <option value="Quake.MAP">Quake .MAP</option>
        <!-- <option value="Valve.BSP">Valve .BSP</option> -->
      </select>

      <input type="file" id="map" accept=".map" name="mapfilename" hidden>
      <input type="file" id="wad" accept=".wad" name="wadfilename" hidden>

      <div>
        <label for="map">Choose MAP</label>
        <label id="map_name"> </label>
      </div>

      <div>
        <label for="wad">Choose WAD</label>
        <label id="wad_name"> </label>
      </div>

      <div>
        <button type="button" id="collapsible_btn">+</button>
        <div id="collapsible_section"></div>
      </div>
    </div>
  </body>
  <script>
    function toggleCollapsibleSection( e ) {
      const section = document.getElementById( 'collapsible_section' );

      section.classList.toggle( 'active' );

      if ( section.style.maxHeight )
        section.style.maxHeight = null;
      else
        section.style.maxHeight = section.scrollHeight + "px";
    }

    document.addEventListener( "DOMContentLoaded", ( e ) => {
      const toggle = document.getElementById( 'collapsible_btn' );

      toggle.onclick = toggleCollapsibleSection;
    });
  </script>
  <script type="module" src="main.js"></script>
</html>